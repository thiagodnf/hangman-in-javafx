name: "Release"
on:
  pull_request:
  push:
    branches:
      - main
jobs:
  release:
    runs-on: ubuntu-latest
    steps:

    - uses: actions/cache@v2
      id: yarn-cache
      with:
        path: |
          **/node_modules
          **/.eslintcache
          ${{ steps.yarn-cache-dir-path.outputs.dir }}
        key: ${{ runner.os }}-yarn-${{ hashFiles('**/yarn.lock') }}
    - uses: actions/checkout@v3

    - id: get_current_version
      name: Getting Current Version
      run: CURRENT_VERSION=$( mvn help:evaluate -Dexpression=project.version -q -DforceStdout )

    - id: get_latest_release
      uses: pozetroninc/github-action-get-latest-release@master
      with:
        repository: thiagodonferreira/hangman-in-javafx

    - run: LATEST_VERSION=${{steps.latest_release.outputs.release}}

    - run: echo ${{steps.get_current_version.CURRENT_VERSION}}
    #   if: steps.latest_release.outputs.release == 'v0.0.1'
